!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function n(t,e){return e||(e=t.slice(0)),t.raw=e,t}function r(t,e){t.innerHTML=e}var i=Array.isArray;function o(t){return"function"==typeof t}function a(t){return void 0===t}function u(t,e){void 0===e&&(e=null),t=t||"s";var n=e?t+"-"+e:t;return function(t){return function(t){return t&&/.-./.test(t)}(t)&&!self.customElements.get(t)}(n)?n:u(n,function(t){void 0===t&&(t="");var e=++c;return""+t+e}())}var s=o(self.CustomEvent)&&self.CustomEvent||function(t,e){void 0===e&&(e={});var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e),n};var c=0;var l=function(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.forEach(function(r){for(var i in r){var o=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(n,i,t(o,e))}}),n}}({enumerable:!1,configurable:!0,writeable:!1}),f="connected",h="dis"+f;var p,d,v=null,m=[],g=function(t){return function(e){var n={i:0,stack:[]};e[t]=n,e.before.push(function(){n.i=0})}},y=0,b=function(){return"_$"+y++},_=function(t){var e=w(n);return x(m,e),n.reset=function(){for(var t in x(e.reset,e),e)/^_\$/.test(t)&&e[t].stack.splice(0)},n;function n(){var n=v;v=e;var r=e._,i=e.before,o=e.after,a=e.external;try{var u;do{r.$=r._=!1,x(i,e),u=t.apply(r.c=this,r.a=arguments),x(o,e),a.length&&x(a.splice(0),u)}while(r._);return u}finally{r.$=!0,v=n}}},x=function(t,e){for(var n=t.length,r=0;r<n;)t[r++](e)},w=function(t){var e={_:!0,$:!0,c:null,a:null};return{_:e,before:[],after:[],external:[],reset:[],update:function(){return e.$?t.apply(e.c,e.a):e._=!0}}},E=b();try{p=cancelAnimationFrame,d=requestAnimationFrame}catch(t){p=clearTimeout,d=setTimeout}var N=function(t,e){t.t=0,t.clean=e};m.push(function(t){var e=[],n={i:0,stack:e};t[E]=n;var r=function(){n.i=0;for(var t=e.length,r=0;r<t;r++){var i=e[r],o=i.check,a=i.clean,u=i.raf,s=i.t;o&&(u&&s?p(s):a&&a(),N(e[r],null))}};t.reset.push(r),t.before.push(r),t.after.push(function(){for(var t=e.length,n=0;n<t;n++){var r=e[n],i=r.fn,o=r.raf;r.update&&(r.update=!1,o?r.t=d(i):i())}})});var A=b();m.push(g(A));var k=b();m.push(g(k));var V=b();m.push(g(V));var T=function(t,e){var n=function(t){var e=v,n=e[t],r=e.update,i=n.i,o=n.stack;return n.i++,{i:i,stack:o,update:r,unknown:i===o.length}}(V),r=n.i,i=n.stack,o=n.unknown,a=n.update;if(o){var u=[null,function(n){e=t(e,n),u[0]=e,a()}];i.push(u),u[0]=function t(e){return typeof e==typeof t?e():e}(e)}return i[r]},C=function(t){return T(function(t,e){return e},t)},S=b();function P(t){return function(e){var n=t(e),r=e.component,i=_(function(){var t=r.call(n,n);return n.render(t)});return n.requestUpdate=i,n}}function O(t){return function(e){var n,r=t(e),i=e.observedAttributes;return n=Object.getPrototypeOf(r),i.forEach(function(t){t in n||Object.defineProperty(n,function(t){return t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()})}(t),{configurable:!0,get:function(){return this.getAttribute(t)},set:function(e){null==e?this.removeAttribute(t):this.setAttribute(t,e)}})}),r}}m.push(g(S));var L="connectedCallback",M="dis"+L,$="attributeChangedCallback",j="adoptedCallback",R="observedAttributes";function F(t,e,n,c){var p;(o(t)&&(c=n,n=e,e=t,t=void 0),!o(n)&&a(c)&&(c=n,n=void 0),i(c))&&((p={})[R]=c,c=p);if(t=(c=c||{}).name=u(t||c.name),!a(n)&&!o(n))throw new Error("Expected the enhancer to be a function.");n=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.filter(Boolean).reduceRight(function(t,e){return e(t)},t)}}(n,P,O);var d,v,m=function(t,e){function n(){var r=this;return this instanceof n?e.call(this,function(){return"undefined"!=typeof Reflect?Reflect.construct(t,[],r.constructor):t.call(r)}):new n}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n}((d=c&&c.extends)?document.createElement(d).constructor:HTMLElement,function(t){var i=l({},c,{component:e});return function(t,e){return function n(i,o){if(!a(o))return o(n)(i);var u,c=t();return l(c,{render:function(t){return c.renderer(c.renderRoot,t,u),u=t,t},renderer:r,connectedCallback:function(){c.requestUpdate(),c.dispatchEvent(new s(f))},disconnectedCallback:function(){c.dispatchEvent(new s(h))},attributeChangedCallback:function(t,e,n){c.shouldUpdate(e,n)&&c.requestUpdate()},requestUpdate:function(){var t=e.call(c,c);return c.render(t)},shouldUpdate:function(t,e){return t!==e},get renderRoot(){return c.shadowRoot||c._shadowRoot||c}})}}(t,e)(i,n)});v=m.prototype,[L,M,$,j].forEach(function(t){v[t]=function(){this.hasOwnProperty(t)&&this[t].apply(this,arguments)}});var g=c[R]=c[R]||[];return m[R]=g,function(t,e,n){t&&self.customElements.define(t,e,n)}(t,m,c),m}function H(t){return void 0===t&&(t=r),function(e){return function(){var n=e.apply(void 0,arguments),r=[function(e,n){return t(e,n)},function(e,n){return t(n,e)},function(e,n,r){return t(r,n,e)},function(e,n){return t(e,function(){return n})}];return n.renderer=function t(e,i,o,a){var u;void 0===a&&(a=0),n.renderer=r[a];try{u=n.renderer(e,i,o)}catch(n){if((a+=1)<r.length)return t(e,i,o,a)}return u||""},n}}}var U=new WeakMap,B=function(t){return"function"==typeof t&&U.has(t)},I=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,W=function(t,e,n){void 0===n&&(n=null);for(var r=e;r!==n;){var i=r.nextSibling;t.removeChild(r),r=i}},q={},z={},D="{{lit-"+String(Math.random()).slice(2)+"}}",G="\x3c!--"+D+"--\x3e",J=new RegExp(D+"|"+G),K=function(t,e){var n=this;this.parts=[],this.element=e;var r=-1,i=0,o=[];!function e(a){for(var u=a.content,s=document.createTreeWalker(u,133,null,!1),c=0;s.nextNode();){r++;var l=s.currentNode;if(1===l.nodeType){if(l.hasAttributes()){for(var f=l.attributes,h=0,p=0;p<f.length;p++)f[p].value.indexOf(D)>=0&&h++;for(;h-- >0;){var d=t.strings[i],v=Y.exec(d)[2],m=v.toLowerCase()+"$lit$",g=l.getAttribute(m).split(J);n.parts.push({type:"attribute",index:r,name:v,strings:g}),l.removeAttribute(m),i+=g.length-1}}"TEMPLATE"===l.tagName&&e(l)}else if(3===l.nodeType){var y=l.data;if(y.indexOf(D)>=0){for(var b=l.parentNode,_=y.split(J),x=_.length-1,w=0;w<x;w++)b.insertBefore(""===_[w]?X():document.createTextNode(_[w]),l),n.parts.push({type:"node",index:++r});""===_[x]?(b.insertBefore(X(),l),o.push(l)):l.data=_[x],i+=x}}else if(8===l.nodeType)if(l.data===D){var E=l.parentNode;null!==l.previousSibling&&r!==c||(r++,E.insertBefore(X(),l)),c=r,n.parts.push({type:"node",index:r}),null===l.nextSibling?l.data="":(o.push(l),r--),i++}else for(var N=-1;-1!==(N=l.data.indexOf(D,N+1));)n.parts.push({type:"node",index:-1})}}(e);for(var a=0;a<o.length;a++){var u=o[a];u.parentNode.removeChild(u)}},Q=function(t){return-1!==t.index},X=function(){return document.createComment("")},Y=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/,Z=function(){function t(t,e,n){this._parts=[],this.template=t,this.processor=e,this.options=n}var e=t.prototype;return e.update=function(t){var e=0,n=this._parts,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}void 0!==o&&o.setValue(t[e]),e++}var a=this._parts,u=Array.isArray(a),s=0;for(a=u?a:a[Symbol.iterator]();;){var c;if(u){if(s>=a.length)break;c=a[s++]}else{if((s=a.next()).done)break;c=s.value}void 0!==c&&c.commit()}},e._clone=function(){var t=this,e=I?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=this.template.parts,r=0,i=0;return function e(o){for(var a=document.createTreeWalker(o,133,null,!1),u=a.nextNode();r<n.length&&null!==u;){var s=n[r];if(Q(s))if(i===s.index){if("node"===s.type){var c=t.processor.handleTextExpression(t.options);c.insertAfterNode(u.previousSibling),t._parts.push(c)}else{var l;(l=t._parts).push.apply(l,t.processor.handleAttributeExpressions(u,s.name,s.strings,t.options))}r++}else i++,"TEMPLATE"===u.nodeName&&e(u.content),u=a.nextNode();else t._parts.push(void 0),r++}}(e),I&&(document.adoptNode(e),customElements.upgrade(e)),e},t}(),tt=function(){function t(t,e,n,r){this.strings=t,this.values=e,this.type=n,this.processor=r}var e=t.prototype;return e.getHTML=function(){for(var t=this.strings.length-1,e="",n=0;n<t;n++){var r=this.strings[n],i=Y.exec(r);e+=i?r.substr(0,i.index)+i[1]+i[2]+"$lit$"+i[3]+D:r+G}return e+this.strings[t]},e.getTemplateElement=function(){var t=document.createElement("template");return t.innerHTML=this.getHTML(),t},t}(),et=function(t){return null===t||!("object"==typeof t||"function"==typeof t)},nt=function(){function t(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(var r=0;r<n.length-1;r++)this.parts[r]=this._createPart()}var e=t.prototype;return e._createPart=function(){return new rt(this)},e._getValue=function(){for(var t=this.strings,e=t.length-1,n="",r=0;r<e;r++){n+=t[r];var i=this.parts[r];if(void 0!==i){var o=i.value;if(null!=o&&(Array.isArray(o)||"string"!=typeof o&&o[Symbol.iterator])){var a=o,u=Array.isArray(a),s=0;for(a=u?a:a[Symbol.iterator]();;){var c;if(u){if(s>=a.length)break;c=a[s++]}else{if((s=a.next()).done)break;c=s.value}n+="string"==typeof c?c:String(c)}}else n+="string"==typeof o?o:String(o)}}return n+=t[e]},e.commit=function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))},t}(),rt=function(){function t(t){this.value=void 0,this.committer=t}var e=t.prototype;return e.setValue=function(t){t===q||et(t)&&t===this.value||(this.value=t,B(t)||(this.committer.dirty=!0))},e.commit=function(){for(;B(this.value);){var t=this.value;this.value=q,t(this)}this.value!==q&&this.committer.commit()},t}(),it=function(){function t(t){this.value=void 0,this._pendingValue=void 0,this.options=t}var e=t.prototype;return e.appendInto=function(t){this.startNode=t.appendChild(X()),this.endNode=t.appendChild(X())},e.insertAfterNode=function(t){this.startNode=t,this.endNode=t.nextSibling},e.appendIntoPart=function(t){t._insert(this.startNode=X()),t._insert(this.endNode=X())},e.insertAfterPart=function(t){t._insert(this.startNode=X()),this.endNode=t.endNode,t.endNode=this.startNode},e.setValue=function(t){this._pendingValue=t},e.commit=function(){for(;B(this._pendingValue);){var t=this._pendingValue;this._pendingValue=q,t(this)}var e=this._pendingValue;e!==q&&(et(e)?e!==this.value&&this._commitText(e):e instanceof tt?this._commitTemplateResult(e):e instanceof Node?this._commitNode(e):Array.isArray(e)||e[Symbol.iterator]?this._commitIterable(e):e===z?(this.value=z,this.clear()):this._commitText(e))},e._insert=function(t){this.endNode.parentNode.insertBefore(t,this.endNode)},e._commitNode=function(t){this.value!==t&&(this.clear(),this._insert(t),this.value=t)},e._commitText=function(t){var e=this.startNode.nextSibling;t=null==t?"":t,e===this.endNode.previousSibling&&3===e.nodeType?e.data=t:this._commitNode(document.createTextNode("string"==typeof t?t:String(t))),this.value=t},e._commitTemplateResult=function(t){var e=this.options.templateFactory(t);if(this.value&&this.value.template===e)this.value.update(t.values);else{var n=new Z(e,t.processor,this.options),r=n._clone();n.update(t.values),this._commitNode(r),this.value=n}},e._commitIterable=function(e){Array.isArray(this.value)||(this.value=[],this.clear());var n,r=this.value,i=0,o=e,a=Array.isArray(o),u=0;for(o=a?o:o[Symbol.iterator]();;){var s;if(a){if(u>=o.length)break;s=o[u++]}else{if((u=o.next()).done)break;s=u.value}var c=s;void 0===(n=r[i])&&(n=new t(this.options),r.push(n),0===i?n.appendIntoPart(this):n.insertAfterPart(r[i-1])),n.setValue(c),n.commit(),i++}i<r.length&&(r.length=i,this.clear(n&&n.endNode))},e.clear=function(t){void 0===t&&(t=this.startNode),W(this.startNode.parentNode,t.nextSibling,this.endNode)},t}(),ot=function(){function t(t,e,n){if(this.value=void 0,this._pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}var e=t.prototype;return e.setValue=function(t){this._pendingValue=t},e.commit=function(){for(;B(this._pendingValue);){var t=this._pendingValue;this._pendingValue=q,t(this)}if(this._pendingValue!==q){var e=!!this._pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)),this.value=e,this._pendingValue=q}},t}(),at=function(t){function n(e,n,r){var i;return(i=t.call(this,e,n,r)||this).single=2===r.length&&""===r[0]&&""===r[1],i}e(n,t);var r=n.prototype;return r._createPart=function(){return new ut(this)},r._getValue=function(){return this.single?this.parts[0].value:t.prototype._getValue.call(this)},r.commit=function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())},n}(nt),ut=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n}(rt),st=!1;try{var ct={get capture(){return st=!0,!1}};window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch(t){}var lt=function(){function t(t,e,n){var r=this;this.value=void 0,this._pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this._boundHandleEvent=function(t){return r.handleEvent(t)}}var e=t.prototype;return e.setValue=function(t){this._pendingValue=t},e.commit=function(){for(;B(this._pendingValue);){var t=this._pendingValue;this._pendingValue=q,t(this)}if(this._pendingValue!==q){var e=this._pendingValue,n=this.value,r=null==e||null!=n&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),i=null!=e&&(null==n||r);r&&this.element.removeEventListener(this.eventName,this._boundHandleEvent,this._options),i&&(this._options=ft(e),this.element.addEventListener(this.eventName,this._boundHandleEvent,this._options)),this.value=e,this._pendingValue=q}},e.handleEvent=function(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)},t}(),ft=function(t){return t&&(st?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)},ht=new(function(){function t(){}var e=t.prototype;return e.handleAttributeExpressions=function(t,e,n,r){var i=e[0];return"."===i?new at(t,e.slice(1),n).parts:"@"===i?[new lt(t,e.slice(1),r.eventContext)]:"?"===i?[new ot(t,e.slice(1),n)]:new nt(t,e,n).parts},e.handleTextExpression=function(t){return new it(t)},t}());function pt(t){var e=dt.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},dt.set(t.type,e));var n=e.stringsArray.get(t.strings);if(void 0!==n)return n;var r=t.strings.join(D);return void 0===(n=e.keyString.get(r))&&(n=new K(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}var dt=new Map,vt=new WeakMap,mt=function(e,n,r){var i=vt.get(n);void 0===i&&(W(n,n.firstChild),vt.set(n,i=new it(t({templateFactory:pt},r))),i.appendInto(n)),i.setValue(e),i.commit()},gt=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new tt(t,n,"html",ht)};function yt(){var t=n(['\n    <form>\n      <label for="first">First</label>\n      <input\n        value="','"\n        @keyup="','"\n        type="text"\n        name="first"\n      />\n\n      <label for="last">Last</label>\n      <input\n        value="','"\n        @keyup="','"\n        type="text"\n        name="last"\n      />\n    </form>\n\n    <style>\n      form {\n        border: none;\n        display: grid;\n        grid-template-columns: 20% 80%;\n      }\n    </style>\n  ']);return yt=function(){return t},t}function bt(){var t=n(["\n    <h2>User Page</h2>\n\n    <h3>",'</h3>\n\n    <p>Change name:</p>\n    <full-name @change="','"> </full-name>\n  ']);return bt=function(){return t},t}F("my-app",function(){var t=C(""),e=t[0],n=t[1];return gt(bt(),e,function(t){return t.detail&&n(t.detail)})},H(mt)),F("full-name",function(t){var e=C("Leonhard"),n=e[0],r=e[1],i=C("Euler ✍️"),o=i[0],a=i[1];return function(t,e,n){var r=new CustomEvent("change",{detail:e+" "+n});t.dispatchEvent(r)}(t,n,o),gt(yt(),n,function(t){return r(t.target.value)},o,function(t){return a(t.target.value)})},H(mt))});
